var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},xjdScroll=function(){function t(t,e){var r=this;this.dcm=document,this.version="1.0.2",this.cursorDown=!1,this.selectedThumb="",this.X=0,this.Y=0,this.verticalMap={offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top",wrapperClient:"clientHeight",contentOffset:"offsetHeight"},this.horizontalMap={offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left",wrapperClient:"clientWidth",contentOffset:"offsetWidth"},this.defultOption={height:"100%",width:"100%"},this.on=document.addEventListener?function(t,e,i){t&&e&&i&&t.addEventListener(e,i,!1)}:function(t,e,i){t&&e&&i&&t.attachEvent("on"+e,i)},this.off=document.removeEventListener?function(t,e,i){t&&e&&t.removeEventListener(e,i,!1)}:function(t,e,i){t&&e&&t.detachEvent("on"+e,i)},this.clearSlct="getSelection"in window?function(){window.getSelection().removeAllRanges()}:function(){this.dcm.selection.empty()},this.mouseMoveDocumentHandler=function(t){if(!1!==r.cursorDown){var e=r[r.selectedThumb+"Map"],i=(t[e.client]-r[r.selectedThumb+"Bar"].getBoundingClientRect()[e.direction]-(r[r.selectedThumb+"Bar"].children[0][e.offset]-r[e.axis]))/r[r.selectedThumb+"Bar"][e.offset];r.wrapper[e.scroll]=i*r.wrapper[e.scrollSize]}},this.mouseUpDocumentHandler=function(){r.cursorDown=!1,r.off(r.dcm,"mousemove",r.mouseMoveDocumentHandler),r.off(r.dcm,"mouseup",r.mouseUpDocumentHandler),r.dcm.onselectstart=null},this.dom=t,this.wrapper=this.dom.childNodes[0],this.content=this.wrapper.childNodes[0],this.scrollbarWidth=this.getScrollbarWidth(),e&&(this.defultOption=__assign({},this.defultOption,e)),this.dom.style.cssText="height: "+this.defultOption.height+";width: "+this.defultOption.width+";",this.wrapper.style.cssText="height: calc(100% + "+this.scrollbarWidth+"px);margin-right: -"+this.scrollbarWidth+"px;margin-bottom: -"+this.scrollbarWidth+"px",this.init()}return t.prototype.getScrollbarWidth=function(){var t=this.dcm.createElement("div");t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",this.dcm.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return this.dcm.body.removeChild(t),e},t.prototype.hasScrollbar=function(){return{vertical:this.content.scrollHeight>this.wrapper.clientHeight,horizontal:this.content.scrollWidth>this.wrapper.clientWidth}},t.prototype.creatBar=function(i){var r=this;if("vertical"===i||"horizontal"===i){var o=this[i+"Map"],t=this.dcm.createElement("div"),e=this.dcm.createElement("div");return t.setAttribute("class"," myScroll__"+i+"Bar"),this.on(t,"mousedown",function(t){var e=(Math.abs(t.target.getBoundingClientRect()[o.direction]-t[o.client])-r[i+"Bar"].children[0][o.offset]/2)/r[i+"Bar"][o.offset];r.wrapper[o.scroll]=e*r.wrapper[o.scrollSize]}),e.setAttribute("class","myScroll__thumb"),e.style.cssText=this.renderThumbStyle("0",this.wrapper[o.wrapperClient]/this.content[o.contentOffset]*100+"%",o),this.on(e,"mousedown",function(t){t.stopImmediatePropagation(),r.clearSlct(),r.selectedThumb=i,r.cursorDown=!0,r.on(r.dcm,"mousemove",r.mouseMoveDocumentHandler),r.on(r.dcm,"mouseup",r.mouseUpDocumentHandler),r.dcm.onselectstart=function(){return!1},r[o.axis]=t.currentTarget[o.offset]-t[o.client]+t.currentTarget.getBoundingClientRect()[o.direction]}),t.appendChild(e),t}console.log("type must be 'vertical' or 'horizontal'")},t.prototype.deleteBar=function(){if(1!==this.dom.children.length){for(var t=1,e=this.dom.children.length;t<e;t++)this.dom.removeChild(this.dom.children[1]);this.verticalBar=null,this.horizontalBar=null}},t.prototype.renderThumbStyle=function(t,e,i){var r="translate"+i.axis+"("+t+"%)";return[i.size]+": "+e+";transform: "+r+";-webkit-transform: "+r+";-ms-transform: "+r+";"},t.prototype.init=function(){var i=this;this.refresh(),this.wrapper.scrollTop=0,this.wrapper.scrollLeft=0,this.on(this.dom,"mouseover",function(){i.verticalBar&&(i.verticalBar.style.opacity="1"),i.horizontalBar&&(i.horizontalBar.style.opacity="1")}),this.on(this.dom,"mouseleave",function(){!0!==i.cursorDown&&(i.verticalBar&&(i.verticalBar.style.opacity=""),i.horizontalBar&&(i.horizontalBar.style.opacity=""))}),this.on(this.wrapper,"scroll",function(t){var e;i.verticalBar&&(e=i.verticalMap,i.verticalBar.childNodes[0].style.cssText=i.renderThumbStyle(""+t.target[e.scroll]/i.wrapper[e.wrapperClient]*100,i.wrapper[e.wrapperClient]/i.content[e.contentOffset]*100+"%",e));i.horizontalBar&&(e=i.horizontalMap,i.horizontalBar.childNodes[0].style.cssText=i.renderThumbStyle(""+t.target[e.scroll]/i.wrapper[e.wrapperClient]*100,i.wrapper[e.wrapperClient]/i.content[e.contentOffset]*100+"%",e))})},t.prototype.refresh=function(){this.deleteBar(),this.X=0,this.Y=0,this.selectedThumb="",this.cursorDown=!1;var t=this.hasScrollbar();t.vertical&&t.horizontal?(this.verticalBar=this.creatBar("vertical"),this.horizontalBar=this.creatBar("horizontal"),this.verticalBar.style.cssText="bottom: 12px;",this.horizontalBar.style.cssText="right: 12px;",this.dom.appendChild(this.verticalBar),this.dom.appendChild(this.horizontalBar)):t.vertical?(this.verticalBar=this.creatBar("vertical"),this.dom.appendChild(this.verticalBar)):t.horizontal?(this.horizontalBar=this.creatBar("horizontal"),this.dom.appendChild(this.horizontalBar)):this.deleteBar()},t}();