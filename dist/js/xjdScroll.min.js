var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},xjdScroll=function(){function t(t,e){var r=this;this.version="1.0.0",this.cursorDown=!1,this.selectedThumb="",this.X=0,this.Y=0,this.defultOption={height:"100%",width:"100%"},this.on=document.addEventListener?function(t,e,r){t&&e&&r&&t.addEventListener(e,r,!1)}:function(t,e,r){t&&e&&r&&t.attachEvent("on"+e,r)},this.off=document.removeEventListener?function(t,e,r){t&&e&&t.removeEventListener(e,r,!1)}:function(t,e,r){t&&e&&t.detachEvent("on"+e,r)},this.mousedownVerticalBar=function(t){var e=(Math.abs(t.target.getBoundingClientRect().top-t.clientY)-r.verticalBar.children[0].offsetHeight/2)/r.verticalBar.offsetHeight;r.wrapper.scrollTop=e*r.wrapper.scrollHeight},this.mousedownVerticalBarThumb=function(t){t.stopImmediatePropagation(),r.selectedThumb="vertical",r.cursorDown=!0,r.on(document,"mousemove",r.mouseMoveDocumentHandler),r.on(document,"mouseup",r.mouseUpDocumentHandler),r.dom.onselectstart=function(){return!1},r.Y=t.currentTarget.offsetHeight-t.clientY+t.currentTarget.getBoundingClientRect().top},this.mousedownHorizontalBar=function(t){var e=(Math.abs(t.target.getBoundingClientRect().left-t.clientX)-r.horizontalBar.children[0].offsetWidth/2)/r.horizontalBar.offsetWidth;r.wrapper.scrollLeft=e*r.wrapper.scrollWidth},this.mousedownHorizontalBarThumb=function(t){t.stopImmediatePropagation(),r.selectedThumb="horizontal",r.cursorDown=!0,r.on(document,"mousemove",r.mouseMoveDocumentHandler),r.on(document,"mouseup",r.mouseUpDocumentHandler),r.dom.onselectstart=function(){return!1},r.X=t.currentTarget.offsetWidth-t.clientX+t.currentTarget.getBoundingClientRect().left},this.mouseMoveDocumentHandler=function(t){if(!1!==r.cursorDown)if("vertical"===r.selectedThumb){var e=(t.clientY-r.verticalBar.getBoundingClientRect().top-(r.verticalBar.children[0].offsetHeight-r.Y))/r.verticalBar.offsetHeight;r.wrapper.scrollTop=e*r.wrapper.scrollHeight}else if("horizontal"===r.selectedThumb){e=(t.clientX-r.horizontalBar.getBoundingClientRect().left-(r.horizontalBar.children[0].offsetWidth-r.X))/r.horizontalBar.offsetWidth;r.wrapper.scrollLeft=e*r.wrapper.scrollWidth}},this.mouseUpDocumentHandler=function(t){r.cursorDown=!1,r.off(document,"mousemove",r.mouseMoveDocumentHandler),r.off(document,"mouseup",r.mouseUpDocumentHandler),r.dom.onselectstart=null},this.dom=document.getElementById(t),this.wrapper=this.dom.children[0],this.content=this.wrapper.children[0],this.scrollbarWidth=this.getScrollbarWidth(),e&&(this.defultOption=__assign({},this.defultOption,e)),this.dom.style.cssText="height: "+this.defultOption.height+";width: "+this.defultOption.width+";",this.wrapper.style.cssText="height: calc(100% + "+this.scrollbarWidth+"px);margin-right: -"+this.scrollbarWidth+"px;margin-bottom: -"+this.scrollbarWidth+"px",this.init()}return t.prototype.getScrollbarWidth=function(){var t=document.createElement("div");t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e},t.prototype.hasScrollbar=function(){return{vertical:this.content.scrollHeight>this.wrapper.clientHeight,horizontal:this.content.scrollWidth>this.wrapper.clientWidth}},t.prototype.creatVerticalBar=function(){var t=document.createElement("div");t.setAttribute("class","myScroll__verticalBar"),this.on(t,"mousedown",this.mousedownVerticalBar);var e=document.createElement("div");return e.setAttribute("class","myScroll__thumb"),e.style.height=this.wrapper.clientHeight/this.content.offsetHeight*100+"%",this.on(e,"mousedown",this.mousedownVerticalBarThumb),t.appendChild(e),t},t.prototype.creatHorizontalBar=function(){var t=document.createElement("div");t.setAttribute("class","myScroll__horizontalBar"),this.on(t,"mousedown",this.mousedownHorizontalBar);var e=document.createElement("div");return e.setAttribute("class","myScroll__thumb"),e.style.width=this.wrapper.clientWidth/this.content.offsetWidth*100+"%",this.on(e,"mousedown",this.mousedownHorizontalBarThumb),t.appendChild(e),t},t.prototype.deleteBar=function(){if(1!==this.dom.children.length){for(var t=1,e=this.dom.children.length;t<e;t++)this.dom.removeChild(this.dom.children[1]);this.verticalBar=void 0,this.horizontalBar=void 0}},t.prototype.init=function(){var e=this;this.refresh(),this.wrapper.scrollTop=0,this.wrapper.scrollLeft=0,this.on(this.dom,"mouseover",function(){e.verticalBar&&(e.verticalBar.style.opacity=1),e.horizontalBar&&(e.horizontalBar.style.opacity=1)}),this.on(this.dom,"mouseleave",function(){!0!==e.cursorDown&&(e.verticalBar&&(e.verticalBar.style.opacity=""),e.horizontalBar&&(e.horizontalBar.style.opacity=""))}),this.on(this.wrapper,"scroll",function(t){e.verticalBar&&(e.verticalBar.children[0].style.transform="translateY("+t.target.scrollTop/e.wrapper.clientHeight*100+"%)"),e.horizontalBar&&(e.horizontalBar.children[0].style.transform="translateX("+t.target.scrollLeft/e.wrapper.clientWidth*100+"%)")})},t.prototype.refresh=function(){this.deleteBar(),this.X=0,this.Y=0,this.selectedThumb="",this.cursorDown=!1;var t=this.hasScrollbar();t.vertical&&t.horizontal?(this.verticalBar=this.creatVerticalBar(),this.horizontalBar=this.creatHorizontalBar(),this.verticalBar.style.cssText="bottom: 12px;",this.horizontalBar.style.cssText="right: 12px;",this.dom.appendChild(this.verticalBar),this.dom.appendChild(this.horizontalBar)):t.vertical?(this.verticalBar=this.creatVerticalBar(),this.dom.appendChild(this.verticalBar)):t.horizontal?(this.horizontalBar=this.creatHorizontalBar(),this.dom.appendChild(this.horizontalBar)):this.deleteBar()},t}();